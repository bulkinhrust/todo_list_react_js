{"version":3,"sources":["redux/reducers/helper.js","redux/reducers/tasks.js","redux/reducers/filter.js","redux/reducers/index.js","redux/saga/index.js","redux/configureStore.js","components/Title/index.js","components/ToDoItem/index.js","components/ToDoList/index.js","components/ToDoInput/index.js","components/Footer/index.js","components/Spinner/index.js","containers/ToDo/index.js","containers/App/index.js","index.js"],"names":["createAction","type","payload","createReducer","handlers","initialState","state","action","LOADING_CHANGE","SET_TASKS","FETCH_TASKS","ADD_TASK","REMOVE_TASK","COMPLETE_TASK","CLEAR_COMPLETED_TASKS","loadingChange","setTasks","fetchTasks","addTask","removeTask","completeTask","clearCompletedTasks","isLoading","tasks","task","id","filter","map","isCompleted","CHANGE_FILTER","changeFilter","combineReducers","fetchTasksWorker","fetchTasksWatcher","delay","time","Promise","resolve","setTimeout","a","fetch","res","json","put","call","console","error","takeEvery","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","run","Title","className","ToDoItem","title","handleChangeCompleted","handleTaskDelete","onClick","ToDoList","Index","value","isError","handleInputChange","handleInputKeyPress","addNewTask","onChange","target","onKeyPress","FILTER_BUTTONS","label","Footer","tasksCount","Spinner","ToDo","useSelector","dispatch","useDispatch","useState","taskName","changeTaskName","changeInputError","useEffect","trim","length","Date","getTime","ToDoInput","key","activeFilter","filterTasks","t","App","render","document","getElementById"],"mappings":"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","file":"static/js/main.30086fe6.chunk.js","sourcesContent":["export const createAction = (type) => (payload) => ({ type, payload });\n\nexport const createReducer = (handlers, initialState) => (state = initialState, action = null) => (\n  handlers[action.type]\n    ? handlers[action.type](state, action)\n    : state\n);\n","import { createAction, createReducer } from './helper';\n\nexport const LOADING_CHANGE = 'LOADING_CHANGE';\nexport const SET_TASKS = 'SET_TASKS';\nexport const FETCH_TASKS = 'FETCH_TASKS';\nexport const ADD_TASK = 'ADD_TASK';\nexport const REMOVE_TASK = 'REMOVE_TASK';\nexport const COMPLETE_TASK = 'COMPLETE_TASK';\nexport const CLEAR_COMPLETED_TASKS = 'CLEAR_COMPLETED_TASKS';\n\nexport const loadingChange = createAction(LOADING_CHANGE);\nexport const setTasks = createAction(SET_TASKS);\nexport const fetchTasks = createAction(FETCH_TASKS);\nexport const addTask = createAction(ADD_TASK);\nexport const removeTask = createAction(REMOVE_TASK);\nexport const completeTask = createAction(COMPLETE_TASK);\nexport const clearCompletedTasks = createAction(CLEAR_COMPLETED_TASKS);\n\nconst initialState = {\n  isLoading: false,\n  tasks: []\n};\n\nexport default createReducer({\n  [LOADING_CHANGE]: (state, { payload: isLoading }) => ({...state, isLoading}),\n  [SET_TASKS]: (state, { payload: tasks }) => ({...state, tasks: [...tasks]}),\n  [ADD_TASK]: (state, { payload: task }) => ({\n    ...state,\n    tasks: [...state.tasks, task]\n  }),\n  [REMOVE_TASK]: (state, { payload: id }) => ({\n    ...state,\n    tasks: [...state.tasks].filter(task => task.id !== id)\n  }),\n  [COMPLETE_TASK]: (state, { payload: id }) => ({\n    ...state,\n    tasks: [...state.tasks].map(task => task.id === id\n      ? { ...task, isCompleted: !task.isCompleted }\n      : task\n    )\n  }),\n  [CLEAR_COMPLETED_TASKS]: (state) => ({\n    ...state,\n    tasks: [...state.tasks].filter(task => !task.isCompleted)\n  }),\n}, initialState);\n","import { createAction, createReducer } from './helper';\n\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\nexport const changeFilter = createAction(CHANGE_FILTER);\n\nconst initialState = 'all';\n\nexport default createReducer({\n  [CHANGE_FILTER]: (state, { payload: filter }) => filter,\n}, initialState);","import { combineReducers } from 'redux';\n\nimport tasks from './tasks';\nimport filter from './filter';\n\nexport default combineReducers({\n  tasks,\n  filter\n});","import { put, call, takeEvery } from 'redux-saga/effects';\nimport { loadingChange, FETCH_TASKS, setTasks } from '../reducers/tasks';\n\nconst delay = time => new Promise(resolve => setTimeout(resolve, time));\n\nasync function fetchTasks() {\n  const res = await fetch('https://jsonplaceholder.typicode.com/todos?_limit=10');\n  return res.json();\n}\n\nfunction* fetchTasksWorker() {\n  try {\n    yield put(loadingChange(true));\n    const payload = yield call(fetchTasks);\n    yield call(delay, 1000); // imitate long api request\n    yield put(setTasks(payload));\n    yield put(loadingChange(false));\n  } catch (e) {\n    console.error(e)\n  }\n\n}\n\nexport function* fetchTasksWatcher() {\n  yield takeEvery(FETCH_TASKS, fetchTasksWorker)\n}","import { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './reducers';\nimport { fetchTasksWatcher } from './saga';\n\nconst sagaMiddleware = createSagaMiddleware();\nconst configureStore = initialState => (\n  createStore(\n    rootReducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(sagaMiddleware))\n  )\n);\n\nconst store = configureStore({});\n\nsagaMiddleware.run(fetchTasksWatcher);\n\nexport default store;","import './styles.scss';\n\nfunction Title() {\n  return (\n    <h1 className='title'>My ToDo List</h1>\n  );\n}\n\nexport default Title;\n","import './styles.scss';\nimport PropTypes from 'prop-types';\n\nconst ToDoItem = ({ id, title, isCompleted, handleChangeCompleted, handleTaskDelete }) => {\n  return (\n    <div className='todo__list__item'>\n      <div className='todo__list__item__check' onClick={() => handleChangeCompleted(id)}>\n        {isCompleted && <i className={'fas fa-check'} />}\n      </div>\n      <div className='todo__list__item__text'>\n        <span className={isCompleted ? 'completed text' : 'text'}>{title}</span>\n      </div>\n      <i className=\"fas fa-times todo__list__item__del\" onClick={() => handleTaskDelete(id)}/>\n    </div>\n  );\n};\n\nToDoItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  isCompleted: PropTypes.bool,\n  handleChangeCompleted: PropTypes.func.isRequired,\n  handleTaskDelete: PropTypes.func.isRequired,\n};\n\nexport default ToDoItem;","import ToDoItem from '../ToDoItem';\nimport PropTypes from 'prop-types';\n\nimport './styles.scss';\n\nconst ToDoList = ({ tasks = [], handleChangeCompleted, handleTaskDelete }) => {\n  return (\n    <div className='todo__list'>\n      {\n        tasks.map((task) => (\n          <ToDoItem key={task.id}\n                    handleChangeCompleted={handleChangeCompleted}\n                    handleTaskDelete={handleTaskDelete}\n                    {...task} />\n        ))\n      }\n    </div>\n  )\n};\n\nToDoList.propTypes = {\n  tasks: PropTypes.arrayOf(PropTypes.object),\n  handleChangeCompleted: PropTypes.func.isRequired,\n  handleTaskDelete: PropTypes.func.isRequired,\n};\n\nexport default ToDoList;","import PropTypes from 'prop-types';\n\nimport './styles.scss';\n\nconst Index = ({ value = '', isError, handleInputChange, handleInputKeyPress, addNewTask }) => {\n  return (<div className={`todo__input ${isError ? 'error' : ''}`}>\n    <input value={value}\n           onChange={({ target: { value }}) => handleInputChange(value)}\n           onKeyPress={handleInputKeyPress}/>\n    <button onClick={addNewTask}>Add</button>\n    {isError && <span className='error__message'>Task name must be longer than 3 characters</span>}\n  </div>)\n};\n\nIndex.propTypes = {\n  value: PropTypes.string,\n  isError: PropTypes.bool,\n  handleInputChange: PropTypes.func.isRequired,\n  handleInputKeyPress: PropTypes.func.isRequired,\n  addNewTask: PropTypes.func.isRequired,\n};\n\nexport default Index;","import PropTypes from 'prop-types';\nimport './styles.scss';\n\nconst FILTER_BUTTONS = [\n  { id: 'all', label: 'All' },\n  { id: 'active', label: 'Active' },\n  { id: 'completed', label: 'Completed' },\n];\n\nconst Footer = ({ tasksCount = 0, filter, changeFilter, clearCompletedTasks }) => {\n  return (<div className='footer'>\n    <div>{tasksCount} tasks left</div>\n    <div className='footer__filter'>\n      {FILTER_BUTTONS.map(({ id, label }) => (\n        <button key={id}\n                onClick={() => changeFilter(id)}\n                className={`btn footer__filter__btn ${filter === id ? 'active' : ''}`}>\n          {label}\n        </button>\n      ))}\n    </div>\n    <button className='btn' onClick={clearCompletedTasks}>Clear Completed</button>\n  </div>)\n};\n\nFooter.propTypes = {\n        tasksCount: PropTypes.number,\n  filter: PropTypes.string.isRequired,\n  changeFilter: PropTypes.func.isRequired,\n  clearCompletedTasks: PropTypes.func.isRequired,\n};\n\nexport default Footer;","import './styles.scss';\n\nexport default function Spinner() {\n  return (<div className=\"lds-spinner\">\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>)\n}","import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchTasks,\n  addTask,\n  removeTask,\n  completeTask,\n  clearCompletedTasks\n} from 'Redux/reducers/tasks';\nimport { changeFilter } from 'Redux/reducers/filter';\nimport ToDoList from 'Components/ToDoList';\nimport ToDoInput from 'Components/ToDoInput';\nimport Footer from 'Components/Footer';\nimport Spinner from 'Components/Spinner';\n\nimport './styles.scss';\n\nfunction ToDo() {\n  const { isLoading, tasks, filter } = useSelector(({ tasks, filter}) => ({\n    isLoading: tasks.isLoading,\n    tasks: tasks.tasks,\n    filter\n  }));\n  const dispatch = useDispatch();\n  const [taskName, changeTaskName] = useState('');\n  const [isError, changeInputError] = useState(false);\n\n  useEffect(() => {\n      dispatch(fetchTasks());\n    },\n    [dispatch]\n  );\n\n  const addNewTask = () => {\n    if (taskName.trim().length <= 3) {\n      changeInputError(true);\n      return;\n    }\n    dispatch(addTask({\n      id: (new Date()).getTime(),\n      title: taskName.trim(),\n      isCompleted: false,\n    }));\n    changeTaskName('');\n  };\n\n  const handleInputKeyPress = ({ key }) => {\n    if (key === 'Enter') {\n      addNewTask();\n    }\n    if (key !== 'Enter' && taskName.length >= 3 && isError) {\n      changeInputError(false);\n    }\n  };\n\n  const filterTasks = (tasks, activeFilter) => {\n    switch (activeFilter) {\n      case 'completed':\n        return tasks.filter(task => task.isCompleted);\n      case 'active':\n        return tasks.filter(task => !task.isCompleted);\n      default:\n        return tasks;\n    }\n  };\n\n  return (\n    <div className='wrapper'>\n      <ToDoInput value={taskName}\n                 isError={isError}\n                 handleInputChange={changeTaskName}\n                 handleInputKeyPress={handleInputKeyPress}\n                 addNewTask={addNewTask} />\n      {isLoading\n        ? <Spinner />\n        : <ToDoList tasks={filterTasks(tasks, filter)}\n                    handleChangeCompleted={(id) => dispatch(completeTask(id))}\n                    handleTaskDelete={(id) => dispatch(removeTask(id))} />\n      }\n      <Footer tasksCount={tasks.filter((t) => !t.isCompleted).length}\n              filter={filter}\n              changeFilter={(filter) => dispatch(changeFilter(filter))}\n              clearCompletedTasks={() => dispatch(clearCompletedTasks())}/>\n    </div>\n  );\n}\n\nexport default ToDo;","import './styles.scss';\nimport Title from 'Components/Title';\nimport ToDo from 'Containers/ToDo';\n\nfunction App() {\n  return (\n    <div className='app'>\n      <Title />\n      <ToDo />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from 'Redux/configureStore';\nimport App from 'Containers/App';\n\nimport './index.scss';\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}